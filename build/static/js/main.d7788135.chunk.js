(this.webpackJsonpcleanbuddy=this.webpackJsonpcleanbuddy||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},106:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(13),s=n.n(r),c=(n(103),n(3)),o=(n(104),n(5)),l=n.n(o),u=n(8),d=(n(20),n(24)),j=n(187),m=n(174),b=(n(106),n(173)),p=n(172),h=n(7),f=Object(h.a)({root:{backgroundColor:"#A6038D","&:hover":{backgroundColor:"#7D076C"}}})(p.a),O=Object(h.a)({root:{borderWidth:2,borderColor:"#A6038D",color:"#A6038D","&:hover":{backgroundColor:"#A6038D",borderColor:"rgb(100, 3, 82)",borderWidth:2,color:"white"}}})(p.a),x=Object(h.a)({root:{borderWidth:2,borderColor:"white",color:"#A6038D",backgroundColor:"#DCDCD9","&:hover":{backgroundColor:"#FB7EEC",borderColor:"white",borderWidth:2,color:"black"}}})(p.a),g=n.p+"static/media/offerbg2.f616edab.png",v=n(0),k=Object(b.a)((function(e){var t,n;return{container:{backgroundImage:"linear-gradient(45deg, rgb(253, 236, 198), #fffcf4)",borderRadius:5},leftColumn:{borderRadius:5,textAlign:"left",color:"black"},rightColumn:{textAlign:"right"},title:{color:"#A6038D"},price:(t={},Object(d.a)(t,e.breakpoints.down("sm"),{paddingRight:20}),Object(d.a)(t,e.breakpoints.up("sm"),{paddingTop:0,paddingRight:30}),Object(d.a)(t,"color","white"),t),button:(n={},Object(d.a)(n,e.breakpoints.down("sm"),{paddingRight:10}),Object(d.a)(n,e.breakpoints.up("sm"),{paddingRight:40}),Object(d.a)(n,"paddingTop",10),Object(d.a)(n,"backgroundImage","url(".concat(g,")")),Object(d.a)(n,"backgroundSize","cover"),Object(d.a)(n,"height","100%"),n)}})),y=function(e){var t=e.id,n=e.title,a=e.companyName,i=e.duration,r=e.price,s=e.description,c=k();return Object(v.jsx)(j.a,{className:"SpecialOffer",border:1,mb:2,p:1,children:Object(v.jsxs)(m.a,{container:!0,spacing:1,className:c.container,children:[Object(v.jsx)(m.a,{item:!0,xs:6,sm:6,className:c.leftColumn,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:c.title,children:n}),Object(v.jsxs)("p",{children:["Kesto: ",i,"h"]}),Object(v.jsxs)("p",{children:["Hinta: ",r,"\u20ac"]}),Object(v.jsxs)("p",{children:["Yritys: ",a]})]})}),Object(v.jsx)(m.a,{item:!0,xs:6,sm:6,className:c.rightColumn,children:Object(v.jsxs)("div",{className:c.button,children:[Object(v.jsxs)("h2",{className:c.price,children:[r," \u20ac"]}),Object(v.jsx)(x,{color:"#ff0000",size:"large",variant:"contained",onClick:function(){return window.location.href="/orderform/".concat(t)},children:"Osta diili!"})]})}),Object(v.jsx)(m.a,{item:!0,xs:12,sm:12,className:c.leftColumn,children:Object(v.jsx)("p",{children:s})})]})})},C=n(19),N=n.n(C),w="https://clean-buddy.herokuapp.com/api/",S=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(w,"suppliers/"));case 2:return t=e.sent,console.log("BackendConnection: Getting all companies"),console.log(t.data),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(w,"customers/"));case 2:return t=e.sent,console.log("BackendConnection: Getting all customers"),console.log(t.data),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(w,"products/"));case 2:return t=e.sent,console.log("BackendConnection: Getting all specialoffers."),console.log(t.data),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(w,"offer-requests?supplier=").concat(t));case 2:return n=e.sent,console.log("BackendConnection: Getting all offer request for supplier."),console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,i,r,s,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.supplier_name,a=t.product_name,i=t.product_description,r=t.product_price,s=t.ends_at,c=t.work_hours,o=t.is_available,console.log("Posting values to db with axios:\n    ".concat(n,",\n    ").concat(a,",\n    ").concat(i,",\n    ").concat(r,",\n    ").concat(s,",\n    ").concat(c,",\n    ").concat(o)),e.next=4,N.a.post("".concat(w,"products/"),{supplier_name:n,product_name:a,product_description:i,product_price:r,ends_at:s,work_hours:c,is_available:o}).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 4:return u=e.sent,console.log(u.data),e.abrupt("return",u.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,i,r,s,c,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.first_name,a=t.last_name,i=t.street_address,r=t.city,s=t.postcode,c=t.phone,o=t.email,u=t.password,console.log("Sending this data with axios post\n    ".concat(n,",\n    ").concat(a,",\n    ").concat(i,",\n    ").concat(r,",\n    ").concat(s,",\n    ").concat(c,",\n    ").concat(o,",\n    ").concat(u)),e.next=4,N.a.post("".concat(w,"customers/"),{first_name:n,last_name:a,street_address:i,city:r,postcode:s,phone:c,email:o,password:u}).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 4:return d=e.sent,e.abrupt("return",d.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,i,r,s,c,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.supplier_description,i=t.street_address,r=t.city,s=t.postcode,c=t.phone,o=t.email,u=t.password,console.log("Sending this data with axios post\n    ".concat(n,",\n    ").concat(a,",\n    ").concat(i,",\n    ").concat(r,",\n    ").concat(s,",\n    ").concat(c,",\n    ").concat(o,",\n    ").concat(u)),e.next=4,N.a.post("".concat(w,"suppliers/"),{name:n,supplier_description:a,street_address:i,city:r,postcode:s,phone:c,email:o,password:u}).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 4:return d=e.sent,console.log(d.data),e.abrupt("return",d.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,i,r,s,c,o,u,d,j,m,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_type,a=t.apartment_area,i=t.cleaning_frequency,r=t.request_suppliers,s=t.optional_information,c=t.first_name,o=t.last_name,u=t.street_address,d=t.city,j=t.postcode,m=t.phone,b=t.email,console.log("Sending this data with axios post\n    ".concat(n,",\n    ").concat(a,",\n    ").concat(i,",\n    ").concat(r,"\n    ").concat(s,",\n    ").concat(c,",\n    ").concat(o,",\n    ").concat(u,",\n    ").concat(d,",\n    ").concat(j,",\n    ").concat(m,",\n    ").concat(b)),e.next=4,N.a.post("".concat(w,"offer-requests/"),{apartment_type:n,apartment_area:a,cleaning_frequency:i,request_suppliers:r,optional_information:s,first_name:c,last_name:o,street_address:u,city:d,postcode:j,phone:m,email:b}).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 4:return p=e.sent,e.abrupt("return",p.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,i,r,s,c,o){var u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(w,"customers/"),{customer_id:t,first_name:n,last_name:a,street_address:i,city:r,postcode:s,phone:c,email:o});case 2:return u=e.sent,e.abrupt("return",u.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,s,c,o){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,i,r,s,c,o){var u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(w,"suppliers/"),{supplier_id:t,name:n,supplier_description:a,street_address:i,city:r,postcode:s,phone:c,email:o});case 2:return u=e.sent,e.abrupt("return",u.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,s,c,o){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,i,r,s,c){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat(w,"products/"),{product_id:t,product_name:n,product_description:a,product_price:i,ends_at:r,work_hours:s,is_available:c});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,s,c){return e.apply(this,arguments)}}(),L={getAllCompanies:S,getAllCustomers:_,getAllSpecialOffers:q,getOfferRequestsBySupplier:A,postSpecialOffer:P,postNewCustomer:T,postNewSupplier:B,postNewOfferRequest:I,deleteCustomer:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat(w,"customers/").concat(t)).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteSupplier:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat(w,"suppliers/").concat(t)).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteOffer:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat(w,"products/").concat(t)).then((function(e){try{console.log(e)}catch(t){console.log(t)}})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),modifySupplier:E,modifyCustomer:W,modifyOffer:z},D=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getAllSpecialOffers();case 3:0===(t=e.sent).length?console.log("Got empty list from backend, using example data instead"):i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Problem with loading specialoffer data from database");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=n.map((function(e){return Object(v.jsx)(y,{id:e.product_id,title:e.product_name,duration:4,companyName:e.name,price:e.product_price,description:e.product_description},e.product_id)}));return Object(v.jsx)("div",{children:r})},R=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Tervetuloa CleanBuddyn etusivulle!"}),Object(v.jsx)("h3",{children:"T\xe4ss\xe4 voimassaolevat pikatarjoukset, nappaa heti omasi."}),Object(v.jsx)(D,{})]})},M=n(192),K=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},selectEmpty:{marginTop:e.spacing(2)}}})),Y=function(e){var t=e.cData,n=e.update,i=e.cDelete,r=Object(a.useState)(null),s=Object(c.a)(r,2),o=s[0],d=s[1],j=K(),b=Object(a.useState)(""),p=Object(c.a)(b,2),h=p[0],f=p[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(""),N=Object(c.a)(C,2),w=N[0],S=N[1],_=Object(a.useState)(""),q=Object(c.a)(_,2),A=q[0],P=q[1],T=Object(a.useState)(""),B=Object(c.a)(T,2),I=B[0],W=B[1],E=Object(a.useState)(""),z=Object(c.a)(E,2),D=z[0],R=z[1],Y=Object(a.useState)(""),F=Object(c.a)(Y,2),H=F[0],V=F[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t),f((n=t).name),y(n.phone),S(n.street_address),P(n.postcode),W(n.city),R(n.email),V(n.supplier_description),console.log(n.supplier_description);case 2:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var J=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("modify"),""===h||""===H||""===k||""===A||""===w||""===I||""===D){e.next=7;break}return e.next=4,L.modifySupplier(t.supplier_id,h,H,w,I,A,k,D);case 4:n(),e.next=8;break;case 7:alert("Please fill all values");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===o?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-name",label:"Yrityksen nimi",value:h,variant:"outlined",onChange:function(e){return f(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",value:k,variant:"outlined",onChange:function(e){return y(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-address",label:"Osoite",value:w,variant:"outlined",onChange:function(e){return S(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-postcode",label:"Postinumero",value:A,variant:"outlined",onChange:function(e){return P(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",value:I,variant:"outlined",onChange:function(e){return W(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",value:D,variant:"outlined",onChange:function(e){return R(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-description",label:"Kuvaus",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,variant:"outlined",value:H,onChange:function(e){return V(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:j.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return J()},children:"Tallenna"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return i()},children:"Poista"})})]})]})})},F=n(191),H=n(179),V=n(180),J=n(181),G=n(182),Q=n(183),U=n(67),X=n(88),Z=n(194),$=n(87),ee=n.n($),te=n(33),ne=n.p+"static/media/cleanbuddy_logo.c9122499.png",ae=Object(h.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"gray"},"&.Mui-focused fieldset":{borderColor:"gray"}}}})(M.a),ie=Object(b.a)((function(e){var t,n;return{root:{background:"#E66CC4",textAlign:"center"},logoBlock:(t={display:"block"},Object(d.a)(t,e.breakpoints.down("sm"),{marginTop:10}),Object(d.a)(t,e.breakpoints.up("sm"),{marginTop:30,marginBottom:30}),t),logoImage:{height:"100%",maxHeight:250},button:(n={},Object(d.a)(n,e.breakpoints.down("sm"),{marginBottom:10}),Object(d.a)(n,e.breakpoints.up("sm"),{marginTop:10}),n),login:{},frontLink:{textDecoration:"none",color:"white"}}})),re=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),s=Object(c.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),p=b[0],h=b[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(""),w=Object(c.a)(C,2),S=w[0],_=w[1],q=Object(a.useState)(!1),A=Object(c.a)(q,2),P=A[0],T=A[1],B=Object(a.useState)(!1),I=Object(c.a)(B,2),W=I[0],E=I[1],z=Object(a.useState)(!1),L=Object(c.a)(z,2),D=L[0],R=L[1],M=function(e){i(null),console.log("nav is"+e),window.location.href=e},K=function(){d(!1)},Y=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k||!S){e.next=7;break}return e.next=3,N.a.post("https://clean-buddy.herokuapp.com/api/auth/signin",{email:k,password:S});case 3:204===(t=e.sent).status||206===t.status?alert("V\xe4\xe4r\xe4 s\xe4hk\xf6posti/salasana"):200===t.status&&!0===t.data.admin?(localStorage.setItem("admin",!0),window.location.href="/admin",K()):200===t.status&&!1===t.data.admin&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",t.data.userId),window.location.href="/mypage/customer",K()),e.next=8;break;case 7:alert("Anna s\xe4hk\xf6posti ja salasana");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){d(!0)},re=function(){R(!1),h(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("company"),localStorage.removeItem("admin"),window.location.href="/"},se=function(e){y(e.target.value)},ce=function(e){_(e.target.value)};Object(a.useEffect)((function(){localStorage.getItem("admin")&&(h(!0),R(!0))}),[]),Object(a.useEffect)((function(){localStorage.getItem("token")&&R(!0),localStorage.getItem("user")&&T(!0),localStorage.getItem("company")&&E(!0)}),[]);var oe=ie();return Object(v.jsx)(G.a,{position:"static",className:oe.root,children:Object(v.jsx)(Q.a,{children:Object(v.jsxs)(m.a,{container:!0,spacing:2,children:[Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(te.b,{className:oe.frontLink,to:"/",children:Object(v.jsxs)("div",{className:oe.logoBlock,children:[Object(v.jsx)("img",{src:ne,alt:"CleanBuddy logo",className:oe.logoImage}),Object(v.jsx)(U.a,{variant:"h6",children:"Siivouspalvelut helposti netist\xe4"})]})})}),Object(v.jsx)(m.a,{item:!0,xs:6,sm:3,children:!1===D?Object(v.jsxs)(m.a,{item:!0,children:[Object(v.jsx)(f,{className:oe.button,size:"large",variant:"outlined",color:"inherit",fullWidth:!0,onClick:$,children:"Login"}),Object(v.jsxs)(F.a,{open:o,maxWidth:"sm",onClose:K,"aria-labelledby":"form-dialog-title",children:[Object(v.jsx)(H.a,{id:"form-dialog-title",children:"Kirjaudu omille sivuille:"}),Object(v.jsxs)(V.a,{children:[Object(v.jsx)(ae,{required:!0,autoFocus:!0,InputLabelProps:{className:oe.floatingLabelFocusStyle},variant:"outlined",margin:"normal",id:"email",label:"S\xe4hk\xf6postiosoite",type:"email",value:k,onChange:se,fullWidth:!0}),Object(v.jsx)(ae,{required:!0,autoFocus:!0,InputLabelProps:{className:oe.floatingLabelFocusStyle},variant:"outlined",margin:"normal",id:"password",label:"Salasana",type:"password",value:S,onChange:ce,fullWidth:!0}),Object(v.jsx)("div",{children:Object(v.jsx)(te.b,{to:"/signup",style:{color:"#black"},onClick:K,children:"Luo uusi k\xe4ytt\xe4j\xe4tili"})})]}),Object(v.jsxs)(J.a,{children:[Object(v.jsx)(O,{variant:"outlined",onClick:K,color:"primary",children:"Peruuta"}),Object(v.jsx)(O,{variant:"outlined",onClick:Y,color:"primary",children:"Kirjaudu sis\xe4\xe4n"})]})]})]}):Object(v.jsx)(m.a,{item:!0,children:Object(v.jsx)(f,{className:oe.button,size:"large",variant:"outlined",color:"inherit",fullWidth:!0,onClick:re,children:"Logout"})})}),Object(v.jsxs)(m.a,{item:!0,xs:6,sm:3,children:[Object(v.jsx)(f,{className:oe.button,size:"large",variant:"outlined",color:"inherit",startIcon:Object(v.jsx)(ee.a,{}),onClick:function(e){i(e.currentTarget),console.log("Clicked menu button")},fullWidth:!0,children:"Menu"}),Object(v.jsxs)(X.a,{id:"simple-menu",anchorEl:n,open:Boolean(n),onClose:M,transformOrigin:{vertical:-50,horizontal:0},children:[Object(v.jsx)(Z.a,{onClick:function(){return M("/info")},children:"Tietoa palvelusta"}),Object(v.jsx)(Z.a,{onClick:function(){return M("/")},children:"Pikatarjoukset"}),Object(v.jsx)(Z.a,{onClick:function(){return M("/companies")},children:"Palveluntarjoajat"}),Object(v.jsx)(Z.a,{onClick:function(){return M("/offerRequest")},children:"Pyyd\xe4 tarjous"}),Object(v.jsx)(Z.a,{onClick:function(){return M("/privacy")},children:"Tietosuojaseloste"}),p?Object(v.jsx)(Z.a,{onClick:function(){return M("/admin")},children:"Admin"}):null,P?Object(v.jsx)(Z.a,{onClick:function(){return M("/mypage/customer/")},children:"Asiakkaan omat sivut"}):null,W?Object(v.jsx)(Z.a,{onClick:function(){return M("/mypage/company/")},children:"Yrityksen omat sivut"}):null,p||P||W?null:Object(v.jsx)(Z.a,{onClick:function(){return M("/company/login")},children:"Yrityskirjautuminen"})]})]})]})})})},se=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},selectEmpty:{marginTop:e.spacing(2)}}})),ce=function(e){var t=e.cData,n=e.update,i=e.cDelete,r=Object(a.useState)(null),s=Object(c.a)(r,2),o=s[0],d=s[1],j=se(),b=Object(a.useState)(""),p=Object(c.a)(b,2),h=p[0],f=p[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(""),N=Object(c.a)(C,2),w=N[0],S=N[1],_=Object(a.useState)(""),q=Object(c.a)(_,2),A=q[0],P=q[1],T=Object(a.useState)(""),B=Object(c.a)(T,2),I=B[0],W=B[1],E=Object(a.useState)(""),z=Object(c.a)(E,2),D=z[0],R=z[1],K=Object(a.useState)(""),Y=Object(c.a)(K,2),F=Y[0],H=Y[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t),f((n=t).first_name),y(n.last_name),S(n.phone),P(n.street_address),W(n.postcode),R(n.city),H(n.email);case 2:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var V=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("modify"),""===h||""===k||""===w||""===I||""===A||""===D||""===F){e.next=7;break}return e.next=4,L.modifyCustomer(t.customer_id,h,k,A,D,I,w,F);case 4:n(),e.next=8;break;case 7:alert("Please fill all values");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===o?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-firstname",label:"Etunimi",value:h,variant:"outlined",onChange:function(e){return f(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-lastname",label:"Sukunimi",value:k,variant:"outlined",onChange:function(e){return y(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",value:w,variant:"outlined",onChange:function(e){return S(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-address",label:"Osoite",value:A,variant:"outlined",onChange:function(e){return P(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-postcode",label:"Postinumero",value:I,variant:"outlined",onChange:function(e){return W(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",value:D,variant:"outlined",onChange:function(e){return R(e.target.value)}}),Object(v.jsx)(M.a,{className:j.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",value:F,variant:"outlined",onChange:function(e){return H(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:j.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return V()},children:"Tallenna"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return i()},children:"Poista"})})]})]})})},oe=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},selectEmpty:{marginTop:e.spacing(2)}}})),le=function(e){var t=e.oData,n=e.update,i=e.oDelete,r=e.company,s=Object(a.useState)(null),o=Object(c.a)(s,2),d=o[0],j=o[1],b=oe(),p=Object(a.useState)(""),h=Object(c.a)(p,2),f=h[0],x=h[1],g=Object(a.useState)(""),k=Object(c.a)(g,2),y=k[0],C=k[1],N=Object(a.useState)(0),w=Object(c.a)(N,2),S=w[0],_=w[1],q=Object(a.useState)(""),A=Object(c.a)(q,2),P=A[0],T=A[1],B=Object(a.useState)(100),I=Object(c.a)(B,2),W=I[0],E=I[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),x((n=t).product_name),T(n.product_description),E(n.product_price),C(r.name),_(n.work_hours);case 2:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var z=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("modify"),!(""!==f&&""!==P&&W>=0)){e.next=7;break}return e.next=4,L.modifyOffer(t.product_id,f,P,W,t.ends_at,S,t.product_is_available);case 4:n(),e.next=8;break;case 7:alert("Please fill all values");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return null===d?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)("h3",{children:y}),Object(v.jsx)(M.a,{className:b.formControl,required:!0,id:"special-offer-title",label:"Otsikko",placeholder:"Otsikko",value:f,variant:"outlined",onChange:function(e){return x(e.target.value)}}),Object(v.jsx)(M.a,{className:b.formControl,required:!0,id:"special-offer-price",label:"Hinta",placeholder:"Hinta",value:W,variant:"outlined",onChange:function(e){return E(e.target.value)}}),Object(v.jsx)(M.a,{className:b.formControl,required:!0,id:"description",label:"Kuvaus",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,placeholder:"Anna tarkempi kuvaus siivouksen yksityiskohdista.",value:P,variant:"outlined",onChange:function(e){return T(e.target.value)}}),Object(v.jsx)(M.a,{className:b.formControl,required:!0,id:"special-offer-title",label:"Kesto / h",placeholder:"Palvelun kesto tunneissa",value:S,variant:"outlined",onChange:function(e){return _(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:b.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return z()},children:"Tallenna"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return i()},children:"Poista"})})]})]})})},ue=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),de=function(){var e=ue(),t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(""),j=Object(c.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),x=f[0],g=f[1],k=Object(a.useState)(""),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),_=S[0],q=S[1],A=Object(a.useState)(""),P=Object(c.a)(A,2),T=P[0],B=P[1],I=Object(a.useState)(""),W=Object(c.a)(I,2),E=W[0],z=W[1],D=function(){return""!==i&&""!==E&&""!==l&&""!==x&&""!==b&&""!==C&&""!==_&&""!==E};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"T\xe4yt\xe4 uuden yritysk\xe4ytt\xe4j\xe4n tiedot:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-name",label:"Yrityksen nimi",variant:"outlined",onChange:function(e){return r(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",variant:"outlined",onChange:function(e){return u(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-address",label:"Osoite",variant:"outlined",onChange:function(e){return p(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-postcode",label:"Postinumero",variant:"outlined",onChange:function(e){return g(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",variant:"outlined",onChange:function(e){return N(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",variant:"outlined",onChange:function(e){return q(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,type:"password",id:"add-password",label:"Salasana",variant:"outlined",onChange:function(e){return B(e.target.value)}}),Object(v.jsx)(M.a,{className:e.formControl,required:!0,id:"modify-description",label:"Yrityksen kuvaus",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,variant:"outlined",onChange:function(e){return z(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:e.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/admin"},children:"Takaisin"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){D()?(console.log("post values and go to adminpage"),console.log("Sending this data with axios post\n        ".concat(i,",\n        ").concat(E,",\n        ").concat(b,",\n        ").concat(C,",\n        ").concat(x,",\n        ").concat(l,",\n        ").concat(_,",\n        ").concat(T)),L.postNewSupplier({name:i,supplier_description:E,street_address:b,city:C,postcode:x,phone:l,email:_,password:T}),window.location.href="/admin"):alert("Jokin kentt\xe4 on j\xe4tetty tyhj\xe4ksi, tarkista tiedot.")},children:"Lis\xe4\xe4 yritys"})})]})]})]})},je=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},activeButton:{backgroundColor:"#7D076C",color:"white"},defaultButton:{backgroundColor:"default"}}})),me=function(){var e=je(),t="Asiakkaat",n="Palveluntarjoajat",i="Pikatarjoukset",r="Lis\xe4\xe4 yritys",s=Object(a.useState)(!1),o=Object(c.a)(s,2),d=o[0],j=o[1],m=Object(a.useState)(t),b=Object(c.a)(m,2),p=b[0],h=b[1],f=Object(a.useState)([]),x=Object(c.a)(f,2),g=x[0],k=x[1],y=Object(a.useState)([]),C=Object(c.a)(y,2),N=C[0],w=C[1],S=Object(a.useState)([]),_=Object(c.a)(S,2),q=_[0],A=_[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("admin"),console.log(t),t&&j(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),d&&T()}),[d,p]);var P,T=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getAllCustomers();case 3:return t=e.sent,e.next=6,L.getAllCompanies();case 6:return n=e.sent,e.next=9,L.getAllSpecialOffers();case 9:a=e.sent,k(t),w(n),A(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,L.getAllCustomers();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,h(null);case 7:h(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=w,e.next=3,L.getAllCompanies();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,h(null);case 7:h(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=A,e.next=3,L.getAllSpecialOffers();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,h(null);case 7:h(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.deleteCustomer(n);case 2:return e.t0=k,e.next=5,L.getAllCustomers();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,h(null);case 9:h(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.deleteSupplier(t);case 2:return e.t0=w,e.next=5,L.getAllCompanies();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,h(null);case 9:h(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.deleteOffer(t);case 2:return e.t0=A,e.next=5,L.getAllSpecialOffers();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,h(null);case 9:h(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:d?Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)(O,{className:p===r?e.activeButton:e.defaultButton,variant:"contained",size:"large",onClick:function(){return h(r)},children:r}),Object(v.jsx)(O,{className:p===t?e.activeButton:e.defaultButton,variant:"contained",size:"large",onClick:function(){return h(t)},children:t}),Object(v.jsx)(O,{className:p===n?e.activeButton:e.defaultButton,variant:"contained",size:"large",onClick:function(){return h(n)},children:n}),Object(v.jsx)(O,{className:p===i?e.activeButton:e.defaultButton,variant:"contained",size:"large",onClick:function(){return h(i)},children:i}),Object(v.jsx)("br",{}),(P=p,P===t?Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Muokkaa asiakastietoja:"}),g.map((function(e){return Object(v.jsx)("ul",{children:Object(v.jsx)(ce,{cData:e,update:function(){return B()},cDelete:function(){return E(e.customer_id)}})},e.customer_id)}))]}):p===n?Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Muokkaa yritystietoja:"}),N.map((function(e){return Object(v.jsx)("ul",{children:Object(v.jsx)(Y,{cData:e,update:function(){return I()},cDelete:function(){return z(e.supplier_id)}})},e.supplier_id)}))]}):p===i?Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Muokkaa tarjoustietoja:"}),q.map((function(e){return Object(v.jsx)("ul",{children:Object(v.jsx)(le,{oData:e,company:N.filter((function(t){return t.supplier_id===e.supplier_id})),update:function(){return W()},oDelete:function(){return D(e.product_id)}})},e.product_id)}))]}):p===r?Object(v.jsx)("div",{children:Object(v.jsx)(de,{})}):Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Loading"})}))]})}):Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Not Admin user"})})})},be=(n(135),function(e){e.id;var t=e.name,n=(e.contactPerson,e.phonenumber),a=e.address,i=e.postnumber,r=e.city,s=e.email,c=e.description;return Object(v.jsx)(j.a,{className:"Company",border:1,mb:2,p:1,children:Object(v.jsxs)("div",{className:"FlexContainer",children:[Object(v.jsxs)("div",{className:"FlexItem1",children:[Object(v.jsx)("h2",{children:t}),Object(v.jsx)("p",{children:a}),Object(v.jsxs)("p",{children:[i," ",r]}),Object(v.jsx)("p",{children:n}),Object(v.jsx)("p",{children:s})]}),Object(v.jsxs)("div",{className:"FlexItem2",children:[Object(v.jsx)("div",{className:"offerLink",children:Object(v.jsx)(te.b,{to:"/offerRequest",children:"Pyyd\xe4 tarjous"})}),Object(v.jsx)("p",{className:"descField",children:c})]})]})})}),pe=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getAllCompanies();case 3:0===(t=e.sent).length||r(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error situation, using example data now."),alert("Problem with loading supplier data from database");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=i.map((function(e){return Object(v.jsx)(be,{name:e.name,address:e.street_address,postnumber:e.postcode,city:e.city,phonenumber:e.phone,email:e.email,description:e.supplier_description},e.name)}));return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Palveluntarjoajat:"}),s]})},he=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Infoa t\xe4st\xe4 palvelusta"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris accumsan ex turpis, ac euismod odio congue sed. Sed placerat varius commodo. Quisque tempor nisi ac volutpat accumsan. Pellentesque tincidunt quam nibh, sit amet aliquet lacus egestas eget. Aliquam in turpis bibendum, faucibus risus quis, mattis arcu. Maecenas dapibus varius leo id tristique. Nunc massa nulla, lobortis nec est suscipit, suscipit ornare velit. Vivamus ac lacus metus. Proin sed enim sodales, efficitur nulla id, iaculis ipsum. Quisque fermentum erat ut sem tincidunt tempor. Nullam commodo semper leo eu consequat. Integer et mattis sem, at scelerisque turpis."}),Object(v.jsx)("p",{children:"Phasellus tristique massa eget arcu mollis pellentesque. Maecenas imperdiet blandit lobortis. Aenean scelerisque in ipsum quis lacinia. Nullam auctor interdum nibh, ut ultricies purus suscipit non. Integer mattis mollis feugiat. Duis fringilla orci interdum, facilisis ex vitae, tempus turpis. Donec imperdiet, urna ac euismod dapibus, magna metus convallis risus, sed rhoncus diam risus at risus."}),Object(v.jsx)("p",{children:"Cras sem dui, tempus posuere tristique sit amet, iaculis eget purus. Quisque ligula nibh, luctus vitae fermentum vel, porttitor rhoncus eros. Pellentesque congue dolor a tortor aliquet dictum. Sed ac lacinia lorem. Nullam tristique metus non sapien maximus lacinia. Cras in convallis augue. Integer posuere varius nibh sit amet venenatis. Duis tristique augue massa, eleifend feugiat est ornare et. Duis sit amet est posuere, auctor ligula sit amet, semper nisl. Sed a sem et ligula bibendum malesuada. Nunc auctor feugiat leo, eu pharetra tortor facilisis non. Praesent porttitor consequat quam nec condimentum. Donec a ligula facilisis velit molestie tempus."}),Object(v.jsx)("p",{children:"Donec dictum, arcu non consequat elementum, quam augue rhoncus neque, id auctor lorem elit in justo. Integer luctus libero non enim efficitur accumsan vel eget enim. Phasellus lacus tortor, consectetur vel augue ac, pharetra ornare augue. Etiam ac egestas nunc, vitae tempus justo. Proin nec pellentesque nisl, nec ultrices urna. Pellentesque volutpat eu justo in luctus."}),Object(v.jsx)("p",{children:"Quisque ut ipsum nunc. Mauris efficitur felis ac mauris pellentesque, at laoreet ligula porta. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Ut gravida, nisl euismod auctor mattis, turpis dolor lobortis neque, non venenatis ante ex sit amet ligula. In mauris dui, blandit sed pretium nec, dignissim sed orci. Fusce posuere hendrerit facilisis. Etiam vel est laoreet, ullamcorper libero non, aliquam nisl. Nam sollicitudin est a porta pretium. Integer ante ex, volutpat sit amet erat nec, posuere tempus felis. Sed sagittis mollis arcu, eget blandit metus convallis ut. Sed velit tortor, mollis non nibh dignissim, euismod facilisis magna."})]})]})},fe=Object(b.a)((function(e){return{info:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},leftColumn:{textAlign:"right"},rightColumn:{textAlign:"left"}}})),Oe=function(e){var t=e.customerId,n=fe(),i=Object(a.useState)(null),r=Object(c.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCustomers();case 2:(n=e.sent).length>0&&(a=n.findIndex((function(e){return e.customer_id===t})),o(n[a]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),null===s||void 0===s?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("h1",{children:["Tervetuloa omille sivuille ",s.first_name,"!"]}),Object(v.jsx)(j.a,{m:1,p:2,children:Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",disabled:!0,fullWidth:!0,children:"Ostohistoria"})}),Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/customer/myofferrequests/".concat(s.email)},children:"Katso tarjouspyynn\xf6t"})})]})}),Object(v.jsx)("h3",{children:"T\xe4ss\xe4 on asiakkaan yhteystiedot."}),Object(v.jsxs)(j.a,{border:1,m:2,p:1,children:[Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Nimi:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsxs)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:[s.first_name," ",s.last_name]}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Puhelinnumero:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.phone}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Osoite:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.street_address}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Postinumero:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.postcode}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Postitoimipaikka:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.city}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"S\xe4hk\xf6postiosoite:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.email})]}),Object(v.jsx)("div",{className:n.info,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/customer/modifydata"},children:"Muokkaa tietoja"})})]})]})},xe=Object(b.a)((function(e){return{info:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},leftColumn:{textAlign:"right"},rightColumn:{textAlign:"left"}}})),ge=function(e){var t=e.companyId,n=xe(),i=Object(a.useState)(null),r=Object(c.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCompanies();case 2:(n=e.sent).length>0&&(a=n.findIndex((function(e){return e.supplier_id===t})),o(n[a]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),null===s||void 0===s?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Tervetuloa yrityksen omille sivuille!"}),Object(v.jsx)(j.a,{m:1,p:2,children:Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/company/createspecialoffer"},children:"Luo pikatarjous"})}),Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/company/myofferrequests/".concat(s.name)},children:"Katso tarjouspyynn\xf6t"})}),Object(v.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/company/myspecialoffers"},children:"Omat pikatarjoukset"})})]})}),Object(v.jsx)("h3",{children:"T\xe4ss\xe4 on yrityksen yhteystiedot."}),Object(v.jsxs)(j.a,{border:1,m:2,p:1,children:[Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Yrityksen nimi:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.name}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Yhteyshenkil\xf6:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.contactPerson}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Puhelinnumero:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.phone}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Osoite:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.street_address}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Postinumero:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.postcode}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Postitoimipaikka:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.city}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"S\xe4hk\xf6postiosoite:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.email}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:4,sm:5,children:"Kuvaus:"}),Object(v.jsx)(m.a,{item:!0,xs:1}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,sm:6,children:s.supplier_description})]}),Object(v.jsx)("div",{className:n.info,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/company/modifydata"},children:"Muokkaa tietoja"})})]})]})},ve=n(184),ke=n(188),ye=n(15),Ce=Object(b.a)((function(e){return{backButton:{textAlign:"center",marginTop:15},leftColumn:{textAlign:"right"},rightColumn:{textAlign:"left"}}})),Ne=function(e){var t=e.specialOffer,n=Ce();if(null!==t)return Object(v.jsx)(j.a,{border:1,m:1,p:2,children:Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"ID:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_id}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Otsikko:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_name}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Kuvaus:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_description}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Siivoustunnit:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.work_hours}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Kokonaishinta:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_price}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Luotu:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.created_at}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"P\xe4\xe4ttyy:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.ends_at}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Tarjous voimassa:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_is_available})]})})},we=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),Se=function(){var e=Object(ye.g)(),t=we(),n=Object(a.useState)(null),i=Object(c.a)(n,2),r=i[0],s=i[1],o=Object(a.useState)(!1),d=Object(c.a)(o,2),j=d[0],m=d[1];Object(a.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getAllSpecialOffers();case 2:(n=t.sent).length>0&&(console.log(e.id),a=n.filter((function(t){return t.product_id===parseInt(e.id)})),s(a[0]));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.id]);return null===r?Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:"Loading special offer data."})}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Tilauksen tiedot:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)("h3",{children:"Siivoustarjouksen tiedot:"}),Object(v.jsx)(Ne,{specialOffer:r})]}),Object(v.jsxs)("form",{style:{textAlign:"left"},children:[Object(v.jsx)("h3",{children:"Asiakkaan tiedot:"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderform_firstname",label:"Etunimi",placeholder:"Etunimi",variant:"outlined"}),Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderform_lastname",label:"Sukunimi",placeholder:"Sukunimi",variant:"outlined"})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderfrom_address",label:"Osoite",placeholder:"Osoite",variant:"outlined"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderform_postcode",label:"Postinumero",placeholder:"Postinumero",variant:"outlined"}),Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderform_city",label:"Postitoimipaikka",placeholder:"Postitoimipaikka",variant:"outlined"})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:t.formControl,id:"orderform_phone",label:"Puhelinnumero",placeholder:"Puhelinnumero",variant:"outlined"})}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:t.formControl,required:!0,id:"orderform_email",type:"email",label:"S\xe4hk\xf6postiosoite",placeholder:"S\xe4hk\xf6postiosoite",variant:"outlined"})}),Object(v.jsx)(ae,{className:t.formControl,id:"orderform_optionalinfo",label:"Lis\xe4tietoa",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,placeholder:"T\xe4h\xe4n voit antaa lis\xe4tietoa, esimerkiksi onko asunnossa lemmikkej\xe4.",variant:"outlined"}),Object(v.jsx)(ve.a,{control:Object(v.jsx)(ke.a,{checked:j,onChange:function(){return m(!j)},name:"accept_terms"}),label:"Hyv\xe4ksyn tilausehdot ja tietosuojak\xe4yt\xe4nn\xf6t."}),Object(v.jsx)(te.b,{to:"/privacy",children:"Tietosuojaseloste"})]})]})]}),Object(v.jsx)("div",{className:"bottomButtons",children:j?Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/"},children:"Vahvista tilaus"}):Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",disabled:!0,children:"Vahvista tilaus"})})]})},_e=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Tietosuojaseloste"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsx)("h3",{children:"Rekisterinpit\xe4j\xe4"}),Object(v.jsx)("p",{children:"Yritys: Yritys Oy"}),Object(v.jsx)("p",{children:"Y-tunnus: 2585123-1"}),Object(v.jsx)("p",{children:"Osoite: Miilutie 3, 4.krs"}),Object(v.jsx)("p",{children:"Postinumero: 00420 "}),Object(v.jsx)("p",{children:"Postitoimipaikka: HELSINKI"}),Object(v.jsx)("p",{children:"Puhelinnumero: 040\u202f155 3330"}),Object(v.jsx)("p",{children:"S\xe4hk\xf6postiosoite: tuki@sivusto.fi"}),Object(v.jsx)("h3",{children:"Rekisteriasioita hoitava henkil\xf6"}),Object(v.jsx)("p",{children:"Yritys: Yritys Oy"}),Object(v.jsx)("p",{children:"Nimi: Pentti Mikkonen"}),Object(v.jsx)("p",{children:"Puhelinnumero: 040\u202f155 3330 "}),Object(v.jsx)("p",{children:"S\xe4hk\xf6posti: tuki@sivusto.fi"}),Object(v.jsx)("h3",{children:"Rekisterin nimi"}),Object(v.jsx)("p",{children:"Yrityksen asiakasrekisteri"}),Object(v.jsx)("h3",{children:"Rekisterin k\xe4ytt\xf6tarkoitus"}),Object(v.jsx)("p",{children:"Ker\xe4tt\xe4vi\xe4 henkil\xf6tietoja k\xe4ytet\xe4\xe4n: Asiakkaan tunnistautumiseen ja k\xe4ytt\xf6oikeuksien hallintaan. Asiakkaan tilausten toimittamiseen ja asiakassuhteen yll\xe4pitoon sek\xe4 kehitt\xe4miseen."}),Object(v.jsx)("h3",{children:"Tietojen ker\xe4\xe4misen ja k\xe4sittelyn oikeusperusteet"}),Object(v.jsx)("p",{children:"Asiakkaan tietoja ker\xe4t\xe4\xe4n ja k\xe4sitell\xe4\xe4n asiakkaan antaman suostumuksen perusteella, tai asiakkaan kanssa teht\xe4v\xe4n sopimuksen t\xe4yt\xe4nt\xf6\xf6n panemiseksi."}),Object(v.jsx)("h3",{children:"Rekisterin sis\xe4lt\xe4m\xe4t tiedot"}),Object(v.jsx)("p",{children:"Rekisteriss\xe4 s\xe4ilytett\xe4v\xe4t tiedot ovat asiakkaan itse antamia tai asiakkaan palvelussa suorittamien toimien perusteella tallennettuja. Rekisteriss\xe4 s\xe4ilytet\xe4\xe4n seuraavat tiedot: Nimi, Osoite, S\xe4hk\xf6postiosoite, Puhelinnumero, Salasana ja Tilaustiedot sek\xe4 mahdollisesti muita asiakkaan ilmoittamia asiakassuhteen hoitoon liittyvi\xe4 tietoja."}),Object(v.jsx)("h3",{children:"Tietojen korjaaminen ja poistaminen"}),Object(v.jsx)("p",{children:"Asiakas voi korjata tietojaan itse ollessaan sis\xe4\xe4nkirjautuneena k\xe4ytt\xe4j\xe4tilill\xe4\xe4n. Yritys Oy voi asiakkaan pyynn\xf6st\xe4 korjata ja t\xe4ydent\xe4\xe4 asiakkaan tietoja, jotka ovat virheellisi\xe4, puutteellisia tai vanhentuneita. Asiakkaalla on oikeus pyyt\xe4\xe4 tietojensa poistamista rekisterist\xe4."}),Object(v.jsx)("h3",{children:"Tietojen s\xe4ilytysaika"}),Object(v.jsx)("p",{children:"Henkil\xf6tiedot s\xe4ilytet\xe4\xe4n niin kauan kuin niit\xe4 tarvitaan asiakkaan kanssa teht\xe4v\xe4n sopimuksen t\xe4yt\xe4nt\xf6\xf6npanemiseksi, asiakassuhteen hoitamiseksi tai niin kauan kuin k\xe4ytt\xe4j\xe4tili on olemassa. Asiakas voi halutessaan pyyt\xe4\xe4 tietojensa poistamista rekisterist\xe4."}),Object(v.jsx)("h3",{children:"Tietol\xe4hteet"}),Object(v.jsx)("p",{children:"Rekisteriss\xe4 olevat tiedot ovat l\xe4ht\xf6isin asiakkaalta itselt\xe4\xe4n. Asiakas my\xf6s vastaa antamiensa tietojen oikeellisuudesta. Yritys Oy ei tarkista rekisteriss\xe4 olevien tietojen oikeellisuutta ulkopuolisista l\xe4hteist\xe4."}),Object(v.jsx)("h3",{children:"Tietojen luovutus"}),Object(v.jsx)("p",{children:"Rekisteriss\xe4 olevia tietoja ei luovuteta ulkopuolisille tahoille."}),Object(v.jsx)("h3",{children:"Rekisterin suojauksen periaatteet"}),Object(v.jsxs)("p",{children:["Henkil\xf6tietoja sis\xe4lt\xe4v\xe4 tietokanta on asianmukaisesti suojatulla palvelimella ja tietokantaa k\xe4sittelev\xe4t vain henkil\xf6t, joilla on teht\xe4viens\xe4 vuoksi valtuudet tietokannan k\xe4sittelyyn. Rekisterinpit\xe4j\xe4 on rajannut k\xe4ytt\xf6oikeudet sivuston j\xe4rjestelmiin niin, ett\xe4 vain asianomaisilla henkil\xf6ill\xe4 on p\xe4\xe4sy rekisterin tietoihin. Vain sivuston nimetyill\xe4 yll\xe4pit\xe4jill\xe4 on oikeudet k\xe4sitell\xe4 kaikkia rekisteriss\xe4 olevia tietoja. Sivuston palveluntarjoajat k\xe4sittelev\xe4t rekisteriss\xe4 olevia k\xe4ytt\xe4j\xe4tietoja vain silloin kun k\xe4ytt\xe4j\xe4n toiminta edellytt\xe4\xe4 heilt\xe4 sit\xe4.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]}),Object(v.jsx)("p",{children:"T\xe4m\xe4 tietosuojaseloste on p\xe4ivitetty 10.3.2021."})]})]})},qe=n(177),Ae=n(178),Pe=n(190),Te=n(193),Be=n(185),Ie=n(139),We=n(186),Ee=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),ze=function(){var e=Ee(),t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),d=o[0],j=o[1],m=Object(a.useState)(""),b=Object(c.a)(m,2),p=b[0],h=b[1],f=Object(a.useState)(""),x=Object(c.a)(f,2),g=x[0],k=x[1],y=Object(a.useState)(""),C=Object(c.a)(y,2),N=C[0],w=C[1],S=Object(a.useState)(""),_=Object(c.a)(S,2),q=_[0],A=_[1],P=Object(a.useState)(""),T=Object(c.a)(P,2),B=T[0],I=T[1],W=Object(a.useState)(""),E=Object(c.a)(W,2),z=E[0],D=E[1],R=Object(a.useState)(""),M=Object(c.a)(R,2),K=M[0],Y=M[1],F=Object(a.useState)(""),H=Object(c.a)(F,2),V=H[0],J=H[1],G=Object(a.useState)(""),Q=Object(c.a)(G,2),U=Q[0],X=Q[1],$=Object(a.useState)(""),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ie=Object(a.useState)(""),re=Object(c.a)(ie,2),se=re[0],ce=re[1],oe=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCompanies();case 2:(t=e.sent).length>0&&(n=[],t.forEach((function(e){n.push({name:e.name,isChecked:!1})})),r(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){oe()}),[]);Object(a.useEffect)((function(){!function(){var e="";i.forEach((function(t){!0===t.isChecked&&(console.log("adding company to supplierlist"),e+=t.name+" ")})),console.log("String is now: ".concat(e)),w(e)}()}),[i]);var le=[i].filter((function(e){return!0===e.isChecked})).length>0;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Pyyd\xe4 tarjous:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)("h3",{children:"Siivottavan kohteen tiedot"}),Object(v.jsxs)(qe.a,{variant:"outlined",className:e.formControl,children:[Object(v.jsx)(Ae.a,{id:"demo-simple-select-outlined-label",children:"Asuntotyyppi"}),Object(v.jsxs)(Pe.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:d,onChange:function(e){return j(e.target.value)},label:"Asuntotyyppi",children:[Object(v.jsx)(Z.a,{value:"",disabled:!0,children:"Valitse asuntotyyppi"}),Object(v.jsx)(Z.a,{value:"kerrostalo",children:"Kerrostalo"}),Object(v.jsx)(Z.a,{value:"omakotitalo",children:"Omakotitalo"}),Object(v.jsx)(Z.a,{value:"rivitalo",children:"Rivitalo"}),Object(v.jsx)(Z.a,{value:"muu asunto",children:"Muu asuntotyyppi"})]})]}),Object(v.jsxs)(qe.a,{variant:"outlined",className:e.formControl,children:[Object(v.jsx)(Ae.a,{id:"demo-simple-select-outlined-label",children:"Asuinpinta-ala"}),Object(v.jsx)(Te.a,{id:"outlined-adornment-weight",value:p,onChange:function(e){return h(e.target.value)},endAdornment:Object(v.jsx)(Be.a,{position:"end",children:"m2"}),label:"Asuinpinta-ala"})]}),Object(v.jsxs)(qe.a,{variant:"outlined",className:e.formControl,children:[Object(v.jsx)(Ae.a,{id:"demo-simple-select-outlined-label",children:"Siivoustiheys"}),Object(v.jsxs)(Pe.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:g,onChange:function(e){return k(e.target.value)},label:"Siivoustiheys",children:[Object(v.jsx)(Z.a,{value:"",disabled:!0,children:"Valitse siivoustiheys"}),Object(v.jsx)(Z.a,{value:"kerran",children:"Kertasiivous"}),Object(v.jsx)(Z.a,{value:"1 / vko",children:"1 kerran viikossa"}),Object(v.jsx)(Z.a,{value:"2 / kk",children:"2 kertaa kuukaudessa"}),Object(v.jsx)(Z.a,{value:"1 /kk",children:"1 kerran kuukaudessa"})]})]}),Object(v.jsxs)(qe.a,{required:!0,error:le,component:"fieldset",className:e.formControl,children:[Object(v.jsx)(Ie.a,{component:"legend",children:"Valitse palveluntarjoajat, joilta tahdot tarjouksen"}),Object(v.jsx)(We.a,{children:i.map((function(e){return Object(v.jsx)(ve.a,{control:Object(v.jsx)(ke.a,{checked:e.isChecked,onChange:function(e){console.log(e.target.name),console.log(e.target.checked);var t=i.map((function(t){return t.name===e.target.name?t={name:t.name,isChecked:!t.isChecked}:t}));r(t)},name:e.name}),label:e.name},e.name)}))})]}),Object(v.jsx)(ae,{className:e.formControl,id:"standard-required",label:"Lis\xe4tietoa",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,placeholder:"T\xe4h\xe4n voit antaa lis\xe4tietoa, esimerkiksi onko asunnossa lemmikkej\xe4.",variant:"outlined",onChange:function(e){return ce(e.target.value)}})]}),Object(v.jsxs)("form",{style:{textAlign:"left"},children:[Object(v.jsx)("h3",{children:"Asiakkaan tiedot:"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"Etunimi",placeholder:"Etunimi",variant:"outlined",onChange:function(e){return A(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"Sukunimi",placeholder:"Sukunimi",variant:"outlined",onChange:function(e){return I(e.target.value)}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"Osoite",placeholder:"Osoite",variant:"outlined",onChange:function(e){return Y(e.target.value)}})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"Postinumero",placeholder:"Postinumero",variant:"outlined",onChange:function(e){return X(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"Postitoimipaikka",placeholder:"Postitoimipaikka",variant:"outlined",onChange:function(e){return J(e.target.value)}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:e.formControl,id:"standard-required",label:"Puhelinnumero",placeholder:"Puhelinnumero",variant:"outlined",onChange:function(e){return D(e.target.value)}})}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"standard-required",label:"S\xe4hk\xf6postiosoite",placeholder:"S\xe4hk\xf6postiosoite",variant:"outlined",onChange:function(e){return ne(e.target.value)}})})]})]})]}),Object(v.jsx)("div",{className:"bottomButtons",children:Object(v.jsx)(O,{className:e.button,variant:"outlined",size:"large",color:"primary",onClick:function(){""!==N&&""!==d&&""!==p&&""!==g&&""!==q&&""!==B&&""!==z&&""!==K&&""!==V&&""!==U&&""!==te&&te.indexOf("@")>0?(console.log("Posting values:\n      ".concat(d,"\n      ").concat(p,"\n      ").concat(g,"\n      ").concat(N,"\n      ").concat(q,"\n      ").concat(B,"\n      ").concat(z,"\n      ").concat(se,"\n      ").concat(K,"\n      ").concat(V,"\n      ").concat(U,"\n      ").concat(te)),L.postNewOfferRequest({apartment_type:d,apartment_area:p,cleaning_frequency:g,request_suppliers:N,optional_information:se,first_name:q,last_name:B,street_address:K,city:U,postcode:V,phone:z,email:te}),window.location.href="/"):alert("Tarkista ett\xe4 kaikki kent\xe4t on t\xe4ytetty oikein.")},children:"L\xe4het\xe4"})})]})},Le=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),De=function(e){var t=e.companyId,n=Le(),i=Object(a.useState)(""),r=Object(c.a)(i,2),s=r[0],o=r[1],d=Object(a.useState)(""),j=Object(c.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),x=f[0],g=f[1],k=Object(a.useState)(0),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(0),S=Object(c.a)(w,2),_=S[0],q=S[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCompanies();case 2:(n=e.sent).length>0&&(a=n.filter((function(e){return e.supplier_id===t}))).length>0&&(o(a[0].name),console.log(s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var A=function(){return""!==b&&""!==x&&C>=0&&_>=0};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Luo uusi pikatarjous:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(ae,{className:n.formControl,required:!0,id:"special-offer-title",label:"Otsikko",placeholder:"Otsikko",variant:"outlined",onChange:function(e){return p(e.target.value)}}),Object(v.jsx)(ae,{className:n.formControl,required:!0,id:"special-offer-time",label:"Kesto",placeholder:"Kesto",variant:"outlined",onChange:function(e){return q(parseFloat(e.target.value).toFixed(2))}}),Object(v.jsx)(ae,{className:n.formControl,required:!0,id:"special-offer-price",label:"Hinta",placeholder:"Hinta",variant:"outlined",onChange:function(e){return N(parseFloat(e.target.value).toFixed(2))}}),Object(v.jsx)(ae,{className:n.formControl,required:!0,id:"description",label:"Kuvaus",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,placeholder:"Anna tarkempi kuvaus siivouksen yksityiskohdista.",variant:"outlined",onChange:function(e){return g(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){A()?(console.log("create new special offer and go to companyfront"),L.postSpecialOffer({supplier_name:s,product_name:b,product_description:x,product_price:C,ends_at:null,work_hours:_,is_available:!0}),window.location.href="/mypage/company"):alert("Tarkista pikatarjouksen tiedot")},children:"Luo pikatarjous"})})]})]})]})},Re=Object(b.a)((function(e){return{backButton:{textAlign:"center",marginTop:15},leftColumn:{textAlign:"right"},rightColumn:{textAlign:"left"}}})),Me=function(e){var t=e.specialOffer,n=Re();if(null!==t)return Object(v.jsxs)(j.a,{border:1,m:1,p:2,children:[Object(v.jsxs)(m.a,{className:n.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"ID:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_id}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Otsikko:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_name}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Kuvaus:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_description}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Siivoustunnit:"}),Object(v.jsxs)(m.a,{className:n.rightColumn,item:!0,xs:7,children:[t.work_hours," tuntia"]}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Kokonaishinta:"}),Object(v.jsxs)(m.a,{className:n.rightColumn,item:!0,xs:7,children:[t.product_price," euroa"]}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Luotu:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.created_at}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"P\xe4\xe4ttyy:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.ends_at}),Object(v.jsx)(m.a,{className:n.leftColumn,item:!0,xs:5,children:"Tarjous voimassa:"}),Object(v.jsx)(m.a,{className:n.rightColumn,item:!0,xs:7,children:t.product_is_available})]}),Object(v.jsx)("div",{className:n.backButton,children:Object(v.jsx)(O,{variant:"outlined",size:"large",disabled:!0,color:"primary",children:"Muokkaa"})})]})},Ke=Object(b.a)((function(e){return{button:{marginTop:10,marginBottom:30}}})),Ye=function(e){var t=e.companyId,n=Ke(),i=Object(a.useState)([]),r=Object(c.a)(i,2),s=r[0],o=r[1],d=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading all special offers now once"),e.next=3,L.getAllSpecialOffers();case 3:(n=e.sent).length>0&&(a=n.filter((function(e){return e.supplier_id===t}))).length>0&&(a=a.reverse(),o(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d()}),[t]);return 0===s.length?Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Et ole luonut viel\xe4 pikatarjouksia."}),Object(v.jsx)(O,{className:n.button,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Omat pikatarjoukset:"}),s.map((function(e){return Object(v.jsx)(Me,{specialOffer:e},e.product_id)})),Object(v.jsx)(O,{className:n.button,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})]})},Fe=Object(b.a)((function(e){return{backButton:{textAlign:"center"},leftColumn:{textAlign:"right"},rightColumn:{textAlign:"left"}}})),He=function(e){var t=e.offerReq,n=e.isCompany,i=Fe(),r=Object(a.useState)(t),s=Object(c.a)(r,2),o=s[0],l=(s[1],Object(a.useState)(n)),u=Object(c.a)(l,2),d=u[0];u[1];if(null!==t)return Object(v.jsx)(j.a,{border:1,m:1,p:2,children:Object(v.jsxs)(m.a,{className:i.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"ID:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.request_id}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Asuntotyyppi:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.apartment_type}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Asunnon pinta-ala:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.apartment_area}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Siivoustiheys:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.cleaning_frequency}),d?Object(v.jsxs)(m.a,{className:i.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Asiakas:"}),Object(v.jsxs)(m.a,{className:i.rightColumn,item:!0,xs:7,children:[o.first_name," ",o.last_name]}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Osoite:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.street_address}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Postinumero:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.postcode}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Postitoimipaikka:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.city}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Puhelinnumero:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.phone}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"S\xe4hk\xf6postiosoite:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.email})]}):Object(v.jsxs)(m.a,{className:i.info,container:!0,spacing:1,p:2,mb:2,children:[Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Yritykset:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.request_suppliers})]}),Object(v.jsx)(m.a,{className:i.leftColumn,item:!0,xs:5,children:"Lis\xe4tietoa:"}),Object(v.jsx)(m.a,{className:i.rightColumn,item:!0,xs:7,children:o.optional_information})]})})},Ve=Object(b.a)((function(e){return{backButton:{textAlign:"center",marginBottom:30}}})),Je=function(){var e=Ve(),t=Object(ye.g)(),n=Object(a.useState)([]),i=Object(c.a)(n,2),r=i[0],s=i[1],o=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getOfferRequestsBySupplier(t.companyName);case 2:(n=e.sent).length>0&&(n=n.reverse(),s(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){o()}),[]);return 0===r.length?Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Sinulle ei ole viel\xe4 saapunut tarjouspyynt\xf6j\xe4."}),Object(v.jsx)(O,{className:e.backButton,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"T\xe4ss\xe4 saapuneet tarjouspyynn\xf6t:"}),r.map((function(e){return Object(v.jsx)(He,{offerReq:e,isCompany:!0},e.request_id)})),Object(v.jsx)(O,{className:e.backButton,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})]})},Ge=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},selectEmpty:{marginTop:e.spacing(2)}}})),Qe=function(e){var t=e.companyId,n=Object(a.useState)(null),i=Object(c.a)(n,2),r=i[0],s=i[1],o=Ge(),d=Object(a.useState)(""),j=Object(c.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),x=f[0],g=f[1],k=Object(a.useState)(""),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),_=S[0],q=S[1],A=Object(a.useState)(""),P=Object(c.a)(A,2),T=P[0],B=P[1],I=Object(a.useState)(""),W=Object(c.a)(I,2),E=W[0],z=W[1],D=Object(a.useState)(""),R=Object(c.a)(D,2),K=R[0],Y=R[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCompanies();case 2:(n=e.sent).length>0&&(a=n.filter((function(e){return e.supplier_id===t}))).length>0&&(s(a[0]),i=a[0],p(i.name),g(i.phone),N(i.street_address),q(i.postcode),B(i.city),z(i.email),Y(i.supplier_description));case 4:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var F=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H()){e.next=7;break}return console.log("post modification and go to companyfront"),e.next=4,L.modifySupplier(t,b,K,C,T,_,x,E);case 4:window.location.href="/mypage/company",e.next=8;break;case 7:alert("Jokin kentt\xe4 on j\xe4tetty tyhj\xe4ksi, tarkista tiedot.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){return""!==b&&""!==K&&""!==x&&""!==_&&""!==C&&""!==T&&""!==E};return null===r?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Muokkaa yrityksen tietoja:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-name",label:"Yrityksen nimi",value:b,variant:"outlined",onChange:function(e){return p(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",value:x,variant:"outlined",onChange:function(e){return g(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-address",label:"Osoite",value:C,variant:"outlined",onChange:function(e){return N(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-postcode",label:"Postinumero",value:_,variant:"outlined",onChange:function(e){return q(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",value:T,variant:"outlined",onChange:function(e){return B(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",value:E,variant:"outlined",onChange:function(e){return z(e.target.value)}}),Object(v.jsx)(M.a,{className:o.formControl,required:!0,id:"modify-description",label:"Kuvaus",fullWidth:!0,multiline:!0,rows:4,rowsMax:7,placeholder:"Yrityksen kuvaus",variant:"outlined",value:K,onChange:function(e){return Y(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:o.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/company"},children:"Takaisin"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:F,children:"Tallenna muutokset"})})]})]})]})},Ue=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),Xe=function(e){var t=e.customerId,n=Object(a.useState)(null),i=Object(c.a)(n,2),r=i[0],s=i[1],o=Ue(),d=Object(a.useState)(""),j=Object(c.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),x=f[0],g=f[1],k=Object(a.useState)(""),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),_=S[0],q=S[1],A=Object(a.useState)(""),P=Object(c.a)(A,2),T=P[0],B=P[1],I=Object(a.useState)(""),W=Object(c.a)(I,2),E=W[0],z=W[1],D=Object(a.useState)(""),R=Object(c.a)(D,2),M=R[0],K=R[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAllCustomers();case 2:(n=e.sent).length>0&&(a=n.filter((function(e){return e.customer_id===t}))).length>0&&(s(a[0]),i=a[0],p(i.first_name),g(i.last_name),N(i.phone),q(i.street_address),B(i.postcode),z(i.city),K(i.email));case 4:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var Y=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F()){e.next=6;break}return e.next=3,L.modifyCustomer(t,b,x,_,E,T,C,M);case 3:window.location.href="/mypage/customer",e.next=7;break;case 6:alert("Jokin kentt\xe4 on j\xe4tetty tyhj\xe4ksi, tarkista tiedot.");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){return""!==b&&""!==x&&""!==C&&""!==T&&""!==_&&""!==E&&""!==M};return null===r?Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Loading data"})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Muokkaa asiakastietoja:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-firstname",label:"Etunimi",value:b,variant:"outlined",onChange:function(e){return p(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-lastname",label:"Sukunimi",value:x,variant:"outlined",onChange:function(e){return g(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",value:C,variant:"outlined",onChange:function(e){return N(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-address",label:"Osoite",value:_,variant:"outlined",onChange:function(e){return q(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-postcode",label:"Postinumero",value:T,variant:"outlined",onChange:function(e){return B(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",value:E,variant:"outlined",onChange:function(e){return z(e.target.value)}}),Object(v.jsx)(ae,{className:o.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",value:M,variant:"outlined",onChange:function(e){return K(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:o.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/mypage/customer"},children:"Takaisin"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:Y,children:"Tallenna muutokset"})})]})]})]})},Ze=Object(b.a)((function(e){return{button:{marginTop:10,marginBottom:30}}})),$e=function(){var e=Ze(),t=Object(ye.g)(),n=Object(a.useState)([]),i=Object(c.a)(n,2),r=i[0],s=i[1],o=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading offer request now once"),e.next=3,L.getOfferRequestsBySupplier("");case 3:(n=e.sent).length>0&&(a=(a=n.filter((function(e){return e.email===t.customerEmail}))).reverse()).length>0&&s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){o()}),[]);return 0===r.length?Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Ei tarjouspyynt\xf6j\xe4 viel\xe4."}),Object(v.jsx)(O,{className:e.button,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/customer"},children:"Takaisin"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"T\xe4ss\xe4 l\xe4hetetyt tarjouspyynn\xf6t:"}),r.map((function(e){return Object(v.jsx)(He,{offerReq:e,isCompany:!1},e.request_id)})),Object(v.jsx)(O,{className:e.button,variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.href="/mypage/customer"},children:"Takaisin"})]})},et=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)}}})),tt=function(){var e=et(),t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(""),j=Object(c.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),x=f[0],g=f[1],k=Object(a.useState)(""),y=Object(c.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),_=S[0],q=S[1],A=Object(a.useState)(""),P=Object(c.a)(A,2),T=P[0],B=P[1],I=Object(a.useState)(""),W=Object(c.a)(I,2),E=W[0],z=W[1],D=function(){return""!==i&&""!==l&&""!==b&&""!==C&&""!==x&&""!==_&&""!==T&&""!==E};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Luo uusi k\xe4ytt\xe4j\xe4tili:"}),Object(v.jsxs)("div",{className:"TextContainer",children:[Object(v.jsxs)("form",{style:{textAlign:"left",marginBottom:30},autoComplete:"false",children:[Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-firstname",label:"Etunimi",variant:"outlined",onChange:function(e){return r(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-lastname",label:"Sukunimi",variant:"outlined",onChange:function(e){return u(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-phone",label:"Puhelinnumero",variant:"outlined",onChange:function(e){return p(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-address",label:"Osoite",variant:"outlined",onChange:function(e){return g(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-postcode",label:"Postinumero",variant:"outlined",onChange:function(e){return N(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-city",label:"Postitoimipaikka",variant:"outlined",onChange:function(e){return q(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-email",label:"S\xe4hk\xf6postiosoite",variant:"outlined",onChange:function(e){return B(e.target.value)}}),Object(v.jsx)(ae,{className:e.formControl,required:!0,id:"modify-password",type:"password",label:"Salasana",variant:"outlined",onChange:function(e){return z(e.target.value)}})]}),Object(v.jsxs)(m.a,{className:e.info,container:!0,spacing:1,p:2,m:2,children:[Object(v.jsx)(m.a,{item:!0,xs:6,ml:2,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){return window.location.href="/"},children:"Takaisin"})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(O,{variant:"outlined",size:"large",color:"primary",fullWidth:!0,onClick:function(){D()?(console.log("post new customer and go to front page"),L.postNewCustomer({first_name:i,last_name:l,street_address:x,postcode:C,city:_,phone:b,email:T,password:E}),window.location.href="/"):alert("Jokin kentt\xe4 on j\xe4tetty tyhj\xe4ksi, tarkista tiedot.")},children:"Luo k\xe4ytt\xe4j\xe4tili"})})]})]})]})},nt=Object(b.a)((function(e){return{formControl:{minWidth:"100%",marginBottom:e.spacing(2)},container:{marginTop:30},button:{marginTop:10}}})),at=function(){var e=nt(),t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),d=o[0],j=o[1],b=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!d){e.next=7;break}return e.next=3,N.a.post("https://clean-buddy.herokuapp.com/api/auth/supplier",{email:i,password:d});case 3:204===(t=e.sent).status||206===t.status?alert("V\xe4\xe4r\xe4 s\xe4hk\xf6posti/salasana"):200===t.status&&(localStorage.setItem("token",t.data.token),localStorage.setItem("company",t.data.supplierId),window.location.href="/mypage/company"),e.next=8;break;case 7:alert("Anna s\xe4hk\xf6posti ja salasana");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsxs)(m.a,{container:!0,spacing:2,className:e.container,children:[Object(v.jsx)(m.a,{item:!0,xs:1,sm:2}),Object(v.jsxs)(m.a,{item:!0,xs:10,sm:8,children:[Object(v.jsx)("h3",{children:"Kirjaudu yrityksen omille omille sivuille"}),Object(v.jsx)(ae,{required:!0,variant:"outlined",margin:"normal",id:"email",label:"S\xe4hk\xf6postiosoite",type:"email",value:i,onChange:function(e){return r(e.target.value)},fullWidth:!0}),Object(v.jsx)(ae,{required:!0,variant:"outlined",margin:"normal",id:"password",label:"Salasana",type:"password",value:d,onChange:function(e){return j(e.target.value)},fullWidth:!0}),Object(v.jsx)(O,{className:e.button,variant:"outlined",size:"large",color:"primary",onClick:b,children:"Kirjaudu sis\xe4\xe4n"})]}),Object(v.jsx)(m.a,{item:!0,xs:1,sm:2})]})})},it=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),s=Object(c.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("user");e&&l(Number(e))}),[o]),Object(a.useEffect)((function(){var e=localStorage.getItem("company");e&&i(Number(e))}),[n]),Object(v.jsx)("div",{className:"AppBackground",children:Object(v.jsx)(te.a,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(re,{}),Object(v.jsxs)(ye.d,{children:[Object(v.jsx)(ye.b,{exact:!0,path:"/info",children:Object(v.jsx)(he,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/companies",children:Object(v.jsx)(pe,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/offerRequest",children:Object(v.jsx)(ze,{})}),Object(v.jsx)(ye.b,{path:"/orderform/:id",children:Object(v.jsx)(Se,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/privacy",children:Object(v.jsx)(_e,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/signup",children:Object(v.jsx)(tt,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/customer/modifydata",children:Object(v.jsx)(Xe,{customerId:o})}),Object(v.jsx)(ye.b,{path:"/mypage/customer/myofferrequests/:customerEmail",children:Object(v.jsx)($e,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/customer",children:Object(v.jsx)(Oe,{customerId:o})}),Object(v.jsx)(ye.b,{exact:!0,path:"/company/login",children:Object(v.jsx)(at,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/company/createspecialoffer",children:Object(v.jsx)(De,{companyId:n})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/company/myspecialoffers",children:Object(v.jsx)(Ye,{companyId:n})}),Object(v.jsx)(ye.b,{path:"/mypage/company/myofferrequests/:companyName",children:Object(v.jsx)(Je,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/company/modifydata",children:Object(v.jsx)(Qe,{companyId:n})}),Object(v.jsx)(ye.b,{exact:!0,path:"/mypage/company",children:Object(v.jsx)(ge,{companyId:n})}),Object(v.jsx)(ye.b,{exact:!0,path:"/admin/addsupplier",children:Object(v.jsx)(de,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/admin",children:Object(v.jsx)(me,{})}),Object(v.jsx)(ye.b,{exact:!0,path:"/",children:Object(v.jsx)(R,{})}),Object(v.jsx)(ye.a,{to:"/",children:Object(v.jsx)(R,{})})]})]})})})},rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(it,{})}),document.getElementById("root")),rt()},20:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.d7788135.chunk.js.map